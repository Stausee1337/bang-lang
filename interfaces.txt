
struct Iterator($TItem) {
    next_fn fn($TImpl/Iterator) $TItem?;
}

fn next(this $T/Iterator($TItem)) $TItem? {
    return this.next_fn(this);
}

struct IntList {
    next_fn fn(this IntList) isize?;
    ...
}

fn IntList:create() IntList {
    return IntList {
        next: IntList:next
    };
}

fn IntList:next(this IntList) isize? {
    ...
}

